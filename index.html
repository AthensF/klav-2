<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klaviyo Email Template Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        .header {
            background: #2d2d2d;
            color: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #1a1a1a;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
            color: #999;
        }

        .logo {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }

        .exit-btn {
            background: white;
            color: #2d2d2d;
            border: none;
            padding: 6px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
        }

        /* Toolbar */
        .toolbar {
            background: #f5f5f5;
            border-bottom: 1px solid #e0e0e0;
            padding: 9px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 50px;
        }

        .toolbar-left, .toolbar-center, .toolbar-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .tab-group {
            display: flex;
            gap: 24px;
        }

        .tab {
            padding: 8px 4px;
            font-size: 14px;
            color: #666;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .tab.active {
            color: #000;
            font-weight: 600;
            border-bottom-color: #000;
        }

        .icon-btn {
            background: #fff;
            border: 1px solid #ddd;
            width: 32px;
            height: 32px;
            padding: 0;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }

        .toggle-group {
            display: flex;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }

        .toggle-btn {
            padding: 6px 16px;
            border: none;
            background: #fff;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            border-right: 1px solid #ddd;
        }

        .toggle-btn:last-child {
            border-right: none;
        }

        .toggle-btn.active {
            background: #f0f0f0;
        }

        .action-btn {
            padding: 0 16px;
            height: 32px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .draft-btn {
            background: #fff;
            border: 1px solid #ddd;
            color: #333;
        }

        .preview-btn {
            background: #eee;
            color: #333;
            border: 1px solid #ddd;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 290px;
            background: white;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            padding: 0 16px;
        }

        .sidebar-tab {
            padding: 12px 20px;
            font-size: 13px;
            color: #666;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: -1px;
        }

        .sidebar-tab.active {
            color: #000;
            font-weight: 600;
            border-bottom-color: #000;
        }

        .sidebar-content {
            padding: 20px;
        }

        .section-title {
            font-size: 13px;
            font-weight: 600;
            color: #000;
            margin-bottom: 16px;
        }

        .blocks-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 32px;
        }

        .block-tile {
            width: 75px;
            height: 75px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 12px 8px 8px;
            text-align: center;
            cursor: grab;
            transition: border-color 0.2s, box-shadow 0.2s, opacity 0.2s;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .block-tile:hover {
            border-color: #999;
            box-shadow: none;
        }

        .block-tile:active {
            cursor: grabbing;
        }

        .block-tile.dragging {
            opacity: 0.5;
        }

        .drag-handle {
            position: absolute;
            top: 3px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 8px;
            color: #ccc;
            line-height: 1;
        }

        .block-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            margin-bottom: 4px;
            color: #333;
        }

        .block-label {
            font-size: 11px;
            color: #555;
            font-weight: 500;
            line-height: 1.2;
        }

        .layout-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .layout-tile {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 16px 8px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: grab;
            position: relative;
        }

        /* Canvas */
        .canvas {
            flex: 1;
            background: #f5f5f5;
            padding: 30px;
            overflow-y: auto;
        }

        .email-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .email-header {
            padding: 40px 20px;
            text-align: center;
            border-bottom: 1px solid #f0f0f0;
        }

        .logo-placeholder {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .leaf-icon {
            width: 30px;
            height: 30px;
            display: block;
            color: #000;
        }

        .logo-text {
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 0.8px;
            text-transform: uppercase;
        }

        .drop-zone {
            min-height: 250px;
            padding: 40px 20px;
            position: relative;
            border: 2px dashed #ccc;
            margin: 20px auto;
            max-width: 600px;
            background: #fafafa;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            border-color: #999;
            background: #f5f5f5;
        }

        .drop-zone.has-content {
            border: none;
            background: white;
            padding: 20px;
        }

        .drop-message {
            text-align: center;
            color: #999;
            font-size: 14px;
            font-weight: 400;
        }

        .trash-icon {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 28px;
            height: 28px;
            background: transparent;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #666;
        }

        .trash-icon:hover {
            background: #f0f0f0;
        }

        .dropped-block {
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 12px;
            position: relative;
            opacity: 0;
            transform: translateY(8px);
            animation: fadeInUp 180ms ease-out forwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dropped-block:hover {
            background: #f5f5f5;
        }

        .block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .block-type {
            font-size: 12px;
            font-weight: 600;
            color: #333;
        }

        .delete-btn {
            background: none;
            border: none;
            color: #999;
            font-size: 18px;
            cursor: pointer;
            padding: 4px 8px;
            line-height: 1;
        }

        .delete-btn:hover {
            color: #333;
        }

        .block-placeholder {
            padding: 16px;
            background: white;
            border-radius: 4px;
            color: #666;
            font-size: 13px;
            text-align: center;
        }

        .email-footer {
            padding: 40px 20px;
            text-align: center;
            border-top: 1px solid #f0f0f0;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .social-icon {
            width: 20px;
            height: 20px;
            color: #ccc;
        }

        .unsubscribe {
            font-size: 11px;
            color: #999;
            margin-bottom: 20px;
        }

        /* Ensure links are greyscale */
        a { color: #555; text-decoration: underline; }
        a:visited { color: #555; }
        a:hover { color: #333; }

        .footer-logo {
            background: transparent;
            color: white;
            padding: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
        }

        /* Typewriter animation */
        .typewriter {
            overflow: hidden;
            border-right: 2px solid #666;
            white-space: nowrap;
            animation: typing 2s steps(35, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #666; }
        }

        /* Indexability Toggle */
        .indexability-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-right: 20px;
        }

        .toggle-label-text {
            font-size: 13px;
            color: #333;
            font-weight: 500;
        }

        .toggle-switch {
            position: relative;
            width: 45px;
            height: 24px;
            background: #ddd;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .toggle-checkbox {
            display: none;
        }

        .toggle-checkbox:checked + .toggle-switch {
            background: #555;
        }

        .toggle-checkbox:checked + .toggle-switch::after {
            transform: translateX(21px);
        }

        .info-icon {
            position: relative;
            width: 16px;
            height: 16px;
            border: 1px solid #999;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 11px;
            font-weight: 600;
            font-family: Georgia, serif;
            cursor: pointer;
            flex-shrink: 0;
        }

        .info-tooltip {
            position: absolute;
            top: calc(100% + 6px);
            left: 50%;
            transform: translateX(-50%);
            background: rgba(45, 45, 45, 0.95);
            color: white;
            font-size: 12px;
            line-height: 1.4;
            padding: 12px;
            border-radius: 6px;
            max-width: 280px;
            width: max-content;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
            pointer-events: none;
        }

        .info-tooltip::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-bottom-color: rgba(45, 45, 45, 0.95);
        }

        .info-icon:hover .info-tooltip {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <img src="logo.jpg" alt="klaviyo" class="logo" style="height: 24px; width: auto;">
            <span style="color: #999;">2025-10-03 09:01 Untitled email template</span>
        </div>
        <button class="exit-btn">Exit</button>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
        <div class="toolbar-left">
            <div class="tab-group">
                <div class="tab active">Content</div>
                <div class="tab">Styles</div>
            </div>
        </div>
        <div class="toolbar-center">
            <button class="icon-btn" aria-label="Undo">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block;color:#777">
                    <path d="M7 7H3V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3 7C6 4 10 3 14 4.5C18 6 21 9.8 21 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
            <button class="icon-btn" aria-label="Redo">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block;color:#777">
                    <path d="M17 7H21V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21 7C18 4 14 3 10 4.5C6 6 3 9.8 3 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
            <div class="toggle-group">
                <button class="toggle-btn active" aria-pressed="true">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block;color:#666">
                        <rect x="3" y="5" width="18" height="12" rx="1.5" stroke="currentColor" stroke-width="2"/>
                        <rect x="10" y="18" width="4" height="1.5" fill="currentColor"/>
                    </svg>
                    Desktop
                </button>
                <button class="toggle-btn" aria-pressed="false">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block;color:#666">
                        <rect x="8" y="3" width="8" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                        <rect x="11" y="5" width="2" height="1" fill="currentColor"/>
                        <circle cx="12" cy="19" r="1" fill="currentColor"/>
                    </svg>
                    Mobile
                </button>
            </div>
        </div>
        <div class="toolbar-right">
            <div class="indexability-group">
                <span class="toggle-label-text">Indexable by LLMs</span>
                <input type="checkbox" id="indexToggle" class="toggle-checkbox">
                <label for="indexToggle" class="toggle-switch"></label>
                <div class="info-icon">
                    i
                    <div class="info-tooltip">
                        Allows public AI models (e.g., ChatGPT) to crawl and index your content for discoverability.
                    </div>
                </div>
            </div>
            <button class="action-btn draft-btn">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block;color:#333">
                    <path d="M17 11H7v10h10V11Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 11V8a3 3 0 1 1 6 0v3" stroke="currentColor" stroke-width="2"/>
                </svg>
                Draft with AI
            </button>
            <button class="action-btn preview-btn">
                Preview & test
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-tabs">
                <div class="sidebar-tab active">Basic</div>
                <div class="sidebar-tab">Pre-built</div>
                <div class="sidebar-tab">Universal</div>
            </div>
            <div class="sidebar-content">
                <div class="section-title">Blocks</div>
                <div class="blocks-grid">
                    <div class="block-tile" draggable="true" data-type="Chat agent">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon" aria-hidden="true">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                                <rect x="4" y="5" width="16" height="12" rx="2" stroke="#333" stroke-width="1.5"/>
                                <path d="M8 9h8M8 12h5" stroke="#333" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M12 17l-2-2H4v-2" stroke="#333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="block-label">Chat agent</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Text">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">Tt</div>
                        <div class="block-label">Text</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Image">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon" aria-hidden="true">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                                <rect x="4" y="6" width="16" height="12" rx="1" stroke="#333" stroke-width="1.5"/>
                                <path d="M8 14l3-3 2 2 3-4 4 5H8z" fill="#333"/>
                                <circle cx="9" cy="9" r="1" fill="#333"/>
                            </svg>
                        </div>
                        <div class="block-label">Image</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Split">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">|||</div>
                        <div class="block-label">Split</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Button">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon" aria-hidden="true">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                                <rect x="5" y="9" width="14" height="6" rx="3" stroke="#333" stroke-width="1.5" fill="none"/>
                            </svg>
                        </div>
                        <div class="block-label">Button</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Header bar">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">⋯</div>
                        <div class="block-label">Header bar</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Drop shadow">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">◪</div>
                        <div class="block-label">Drop shadow</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Divider">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">—</div>
                        <div class="block-label">Divider</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Social links">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon" aria-hidden="true">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                                <path d="M7 12a5 5 0 0 1 5-5h2" stroke="#333" stroke-width="1.5"/>
                                <path d="M17 12a5 5 0 0 1-5 5h-2" stroke="#333" stroke-width="1.5"/>
                                <circle cx="7" cy="12" r="1.5" fill="#333"/>
                                <circle cx="17" cy="12" r="1.5" fill="#333"/>
                            </svg>
                        </div>
                        <div class="block-label">Social links</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Spacer">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">↕</div>
                        <div class="block-label">Spacer</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Product">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon" aria-hidden="true">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                                <path d="M5 9l7-4 7 4v7l-7 4-7-4V9z" stroke="#333" stroke-width="1.5"/>
                                <path d="M12 5v14" stroke="#333" stroke-width="1.5"/>
                                <path d="M5 9l7 4 7-4" stroke="#333" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <div class="block-label">Product</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Table">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon" aria-hidden="true">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                                <rect x="5" y="7" width="14" height="10" rx="1" stroke="#333" stroke-width="1.5"/>
                                <path d="M5 11h14M12 7v10" stroke="#333" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <div class="block-label">Table</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Review quote">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">★</div>
                        <div class="block-label">Review quote</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="Video">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">▶</div>
                        <div class="block-label">Video</div>
                    </div>
                    <div class="block-tile" draggable="true" data-type="HTML">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">&lt;/&gt;</div>
                        <div class="block-label">HTML</div>
                    </div>
                </div>

                <div class="section-title">Layout</div>
                <div class="layout-grid">
                    <div class="layout-tile" draggable="true">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">|||</div>
                    </div>
                    <div class="layout-tile" draggable="true">
                        <div class="drag-handle">⋮⋮</div>
                        <div class="block-icon">||</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Canvas -->
        <div class="canvas">
            <div class="email-container">
                <div class="email-header">
                    <div class="logo-placeholder">
                        <svg class="leaf-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M21 3C14 3 7 5 4 12c2 0 4-.5 6-2-1 2-2 4-2 6 0 3 2 5 5 5 6 0 8-7 8-18Z" fill="#000"/>
                        </svg>
                        <div class="logo-text">LOGO PLACE</div>
                    </div>
                </div>

                <div class="drop-zone" id="dropZone">
                    <div class="trash-icon" aria-label="Delete">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:block">
                            <path d="M3 6h18" stroke="#666" stroke-width="2"/>
                            <path d="M8 6V4h8v2" stroke="#666" stroke-width="2"/>
                            <rect x="6" y="6" width="12" height="14" rx="1" stroke="#666" stroke-width="2"/>
                            <path d="M10 10v6M14 10v6" stroke="#666" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="drop-message">Drop content here</div>
                </div>

                <div class="email-footer">
                    <div class="social-links">
                        <svg class="social-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Twitter">
                            <path d="M22 5.8c-.7.3-1.4.5-2.2.6.8-.5 1.3-1.2 1.6-2.1-.7.4-1.6.8-2.5 1-1.6-1.6-4.5-.7-4.5 1.8 0 .3 0 .5.1.8-3.5-.2-6.6-1.8-8.7-4.4-.4.7-.3 1.7.3 2.3.5.5 1.1.9 1.8 1-1 0-1.6-.3-2.2-.7 0 1.2.8 2.3 2 2.6-.5.1-1 .2-1.4.1.4 1.1 1.5 1.9 2.8 1.9-1.1.9-2.5 1.4-4 1.4h-.4c1.4.9 3 1.4 4.7 1.4 5.7 0 8.9-4.6 8.9-8.6v-.4c.7-.5 1.3-1.1 1.8-1.8z" stroke="#aaa" fill="none"/>
                        </svg>
                        <svg class="social-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Facebook">
                            <rect x="3" y="3" width="18" height="18" rx="2" stroke="#aaa"/>
                            <path d="M14 8h-2c-1 0-2 1-2 2v2H8v3h2v5h3v-5h2l1-3h-3v-1c0-.5.5-1 1-1h2V8z" fill="#aaa"/>
                        </svg>
                        <svg class="social-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Instagram">
                            <rect x="4" y="4" width="16" height="16" rx="4" stroke="#aaa"/>
                            <circle cx="12" cy="12" r="4" stroke="#aaa"/>
                            <circle cx="17" cy="7" r="1" fill="#aaa"/>
                        </svg>
                    </div>
                    <div class="unsubscribe">
                        No longer want to receive these emails? <a href="#">Unsubscribe</a><br>
                        [organization name/organization full_address]
                    </div>
                    <div class="footer-logo">
                        <img src="logo.jpg" alt="klaviyo" style="height: 40px; width: auto;">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const blockTiles = document.querySelectorAll('.block-tile');
        const dropZone = document.getElementById('dropZone');
        let draggedType = null;

        // Indexability Toggle functionality
        let llmIndexingEnabled = false;
        const indexToggle = document.getElementById('indexToggle');
        indexToggle.addEventListener('change', (e) => {
            llmIndexingEnabled = e.target.checked;
            console.log(`LLM Indexing: ${llmIndexingEnabled}`);
        });

        // Drag handlers for blocks
        blockTiles.forEach(tile => {
            tile.addEventListener('dragstart', (e) => {
                draggedType = e.currentTarget.dataset.type;
                e.currentTarget.classList.add('dragging');
                e.dataTransfer.effectAllowed = 'copy';
            });

            tile.addEventListener('dragend', (e) => {
                e.currentTarget.classList.remove('dragging');
            });
        });

        // Drop zone handlers
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'copy';
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            
            if (draggedType) {
                addBlock(draggedType);
                draggedType = null;
            }
        });

        function addBlock(type) {
            // Remove drop message and add content class
            const dropMessage = dropZone.querySelector('.drop-message');
            if (dropMessage) {
                dropMessage.remove();
                dropZone.classList.add('has-content');
            }

            // Create block element
            const block = document.createElement('div');
            block.className = 'dropped-block';
            
            // Custom placeholder text for Chat agent
            const placeholderText = type === 'Chat agent' 
                ? 'What can we help you find today?' 
                : `${type} block placeholder`;
            
            // Add typewriter class for Chat agent
            const placeholderClass = type === 'Chat agent' ? 'block-placeholder typewriter' : 'block-placeholder';
            
            block.innerHTML = `
                <div class="block-header">
                    <div class="block-type">${type}</div>
                    <button class="delete-btn" onclick="removeBlock(this)">×</button>
                </div>
                <div class="${placeholderClass}">
                    ${placeholderText}
                </div>
            `;
            
            // Insert before trash icon
            const trashIcon = dropZone.querySelector('.trash-icon');
            dropZone.insertBefore(block, trashIcon);
        }

        function removeBlock(btn) {
            const block = btn.closest('.dropped-block');
            block.remove();
            
            // Check if empty
            const blocks = dropZone.querySelectorAll('.dropped-block');
            if (blocks.length === 0) {
                dropZone.classList.remove('has-content');
                const msg = document.createElement('div');
                msg.className = 'drop-message';
                msg.textContent = 'Drop content here';
                const trashIcon = dropZone.querySelector('.trash-icon');
                dropZone.insertBefore(msg, trashIcon);
            }
        }
    </script>
</body>
</html>